<!--?xml version="1.0" encoding="utf-8"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
 <head profile="http://www.w3.org/2000/08/w3c-synd/#"> 
  <meta charset="UTF-8"> 
  <meta http-equiv="x-ua-compatible" content="IE=Edge"> 
  <link rel="stylesheet" href="attachments/site.css" type="text/css"> 
  <link rel="shortcut icon" href="attachments/favicon.ico"> 
  <link rel="icon" type="image/x-icon" href="attachments/favicon.ico"> 
  <title>Codehaus Cargo - Maven2 Archetypes</title> 
  <script type="text/javascript">
    // Google Analytics code

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-31476258-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script> 
  <script type="text/javascript">
    if (location.href.indexOf("http://") === 0) {
      location.replace("https://" + location.href.substring(7));
    }
  </script> 
 </head> 
 <body> 
  <table width="100%" id="layout" style="border-collapse:collapse"> 
   <tbody>
    <tr> 
     <td colspan="2" style="padding:0px;border-bottom:1px solid #39434F"> 
      <table width="100%" id="banner" style="padding:0px;background-image:url('attachments/cargo-banner-center.png')"> 
       <tbody>
        <tr> 
         <td align="left" valign="middle" style="padding:0px"> <img src="attachments/cargo-banner-left.png"> </td> 
         <td align="right" valign="middle" style="padding:0px"> <img src="attachments/cargo-banner-right.png"> </td> 
        </tr> 
       </tbody>
      </table> </td> 
    </tr> 
    <!--
    <tr>
      <td colspan="2" id="breadcrumbs">
        <table width="100%" id="banner" style="padding:0px;margin:0px">
          <tr>
            <td align="left">
              <p>
                <a href="/">Home</a>
                #if ($page.pageKey != "Home")
                  #foreach($breadcrumb in $breadcrumbs)
                    &gt; <a href="/${breadcrumb.pageKeyEncoded}">${breadcrumb.pageKey}</a>
                  #end
                #end
              </p>
            </td>
            <td align="left">
              #if (${quicklinksFragment})
                ${quicklinksFragment}
              #end
            </td>
            <td align="right">
              <a href="/${page.pageKeyEncoded}?print=1" style="color:#999;font-size:small">
                <img src="attachments/print.gif" border="0" alt="Printable version" title="Printable version">
              </a>
            </td>
          </tr>
        </table>
      </td>
    </tr>
     --> 
    <tr> 
     <td id="leftColumn" valign="top" style="padding-top:0px"> <h3 id="Navigation-QuickLinks">Quick Links</h3>
      <ul class="alternate">
       <li><a href="Home.html">Home</a></li>
       <li><a href="Downloads.html">Downloads</a></li>
       <li><a href="Quick+start.html">Quick start</a></li>
       <li><a href="Contributing.html">How to contribute?</a>
        <ul class="alternate">
         <li><a href="Adding+a+container.html">Adding a container</a></li>
        </ul></li>
      </ul><h3 class="confluence-link" id="Navigation-Documentation">Documentation</h3>
      <ul class="alternate">
       <li>Overview<br>
        <ul class="alternate">
         <li><a href="Architecture.html">Architecture</a></li>
         <li><a href="Features.html">Features</a></li>
        </ul></li>
       <li><a href="Installation.html">Installation</a></li>
       <li>Usage<br>
        <ul class="alternate">
         <li><a href="Javadocs.html">Java API</a></li>
         <li><a href="Functional+testing.html">Functional testing with JUnit</a></li>
         <li><a href="Ant+support.html">Ant tasks</a></li>
         <li><a href="Maven2+plugin.html">Maven2/Maven3 plugin</a></li>
         <li><a href="Cargo+Daemon.html">Cargo Daemon</a></li>
        </ul></li>
       <li><a href="Articles.html">Articles</a></li>
       <li><a href="License.html">License</a></li>
       <li><a href="Credits.html">Credits</a></li>
      </ul><h3 id="Navigation-Containers">Containers</h3>
      <ul class="alternate">
       <li>Geronimo
        <ul class="alternate">
         <li><a href="Geronimo+1.x.html">Geronimo 1.x</a></li>
         <li><a href="Geronimo+2.x.html">Geronimo 2.x</a></li>
         <li><a href="Geronimo+3.x.html">Geronimo 3.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>Glassfish
        <ul class="alternate">
         <li><a href="Glassfish+2.x.html">Glassfish 2.x</a></li>
         <li><a href="Glassfish+3.x.html">Glassfish 3.x</a></li>
         <li><a href="Glassfish+4.x.html">Glassfish 4.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>JBoss
        <ul class="alternate">
         <li><a href="JBoss+3.x.html">JBoss 3.x</a></li>
         <li><a href="JBoss+4.x.html">JBoss 4.x</a></li>
         <li><a href="JBoss+4.2.x.html">JBoss 4.2.x</a></li>
         <li><a href="JBoss+5.x.html">JBoss 5.x</a></li>
         <li><a href="JBoss+5.1.x.html">JBoss 5.1.x</a></li>
         <li><a href="JBoss+6.x.html">JBoss 6.x</a></li>
         <li><a href="JBoss+6.1.x.html">JBoss 6.1.x</a></li>
         <li><a href="JBoss+7.x.html">JBoss 7.x</a></li>
         <li><a href="JBoss+7.1.x.html">JBoss 7.1.x</a></li>
         <li><a href="JBoss+7.2.x.html">JBoss 7.2.x</a></li>
         <li><a href="JBoss+7.3.x.html">JBoss 7.3.x</a></li>
         <li><a href="JBoss+7.4.x.html">JBoss 7.4.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>Jetty
        <ul class="alternate">
         <li><a href="Jetty+4.x.html">Jetty 4.x</a></li>
         <li><a href="Jetty+5.x.html">Jetty 5.x</a></li>
         <li><a href="Jetty+6.x.html">Jetty 6.x</a></li>
         <li><a href="Jetty+7.x.html">Jetty 7.x</a></li>
         <li><a href="Jetty+8.x.html">Jetty 8.x</a></li>
         <li><a href="Jetty+9.x.html">Jetty 9.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>Jo!
        <ul class="alternate">
         <li><a href="jo+1.x.html">jo 1.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>JOnAS
        <ul class="alternate">
         <li><a href="JOnAS+4.x.html">JOnAS 4.x</a></li>
         <li><a href="JOnAS+5.x.html">JOnAS 5.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>JRun
        <ul class="alternate">
         <li><a href="JRun+4.x.html">JRun 4.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>Orion/OC4J
        <ul class="alternate">
         <li><a href="Oc4J+9.x.html">Oc4J 9.x</a></li>
         <li><a href="Oc4j+10.x.html">Oc4j 10.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>Resin
        <ul class="alternate">
         <li><a href="Resin+2.x.html">Resin 2.x</a></li>
         <li><a href="Resin+3.x.html">Resin 3.x</a></li>
         <li><a href="Resin+3.1.x.html">Resin 3.1.x</a></li>
         <li><a href="Resin+4.x.html">Resin 4.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>Tomcat
        <ul class="alternate">
         <li><a href="Tomcat+4.x.html">Tomcat 4.x</a></li>
         <li><a href="Tomcat+5.x.html">Tomcat 5.x</a></li>
         <li><a href="Tomcat+6.x.html">Tomcat 6.x</a></li>
         <li><a href="Tomcat+7.x.html">Tomcat 7.x</a></li>
         <li><a href="Tomcat+8.x.html">Tomcat 8.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>TomEE
        <ul class="alternate">
         <li><a href="TomEE+1.x.html">TomEE 1.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>WebLogic<br>
        <ul class="alternate">
         <li><a href="WebLogic+8.x.html">WebLogic 8.x</a></li>
         <li><a href="WebLogic+9.x.html">WebLogic 9.x</a></li>
         <li><a href="WebLogic+10.x.html">WebLogic 10.x</a></li>
         <li><a href="WebLogic+10.3.x.html">WebLogic 10.3.x</a></li>
         <li><a href="WebLogic+12.x.html">WebLogic 12.x</a></li>
         <li><a href="WebLogic+12.1.x.html">WebLogic 12.1.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>WebSphere<br>
        <ul class="alternate">
         <li><a href="WebSphere+8.5.x.html">WebSphere 8.5.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>WildFly<br>
        <ul class="alternate">
         <li><a href="WildFly+8.x.html">WildFly 8.x</a></li>
        </ul></li>
      </ul><h3 id="Navigation-Extensions">Extensions</h3>
      <ul class="alternate">
       <li><a href="Ant+support.html">Ant</a></li>
       <li><a href="Cargo+Daemon.html">Cargo Daemon</a></li>
       <li><a href="Maven2+plugin.html">Maven2/Maven3</a></li>
      </ul><p>Independent extensions:</p>
      <ul class="alternate">
       <li><a href="https://github.com/bmuschko/gradle-cargo-plugin" class="external-link" rel="nofollow">Gradle</a></li>
       <li><a href="https://github.com/mulesoft/cargo-mule-container" class="external-link" rel="nofollow">Mule container</a></li>
      </ul><h3 id="Navigation-ProjectInfo">Project Info</h3>
      <ul class="alternate">
       <li><a href="Roadmap.html">Roadmap</a></li>
       <li><a href="News.html">News</a></li>
       <li><a href="https://codehaus-cargo.atlassian.net/projects/CARGO/issues" class="external-link" rel="nofollow">Issues</a></li>
       <li><a href="https://codehaus-cargo.atlassian.net/projects/CARGO?selectedItem=com.atlassian.jira.jira-projects-plugin:release-page" class="external-link" rel="nofollow">Change log</a></li>
       <li><a href="Source+code.html">Source code</a></li>
       <li><a href="Mailing+Lists.html">Mailing Lists</a></li>
       <li><a href="License.html">License</a></li>
       <li><a href="Credits.html">Credits</a></li>
      </ul><h3 id="Navigation-GetInvolved">Get Involved</h3>
      <ul class="alternate">
       <li><a href="Contributing.html">Contributing</a></li>
       <li><a class="unresolved" href="#">Discussions</a></li>
      </ul><h3 id="Navigation-Development">Development</h3>
      <ul class="alternate">
       <li><a href="Cargo+Code+Style.html">Cargo Code Style</a></li>
       <li><a href="Project+Structure.html">Project Structure</a></li>
       <li><a href="Importing+sources.html">Importing sources</a></li>
       <li><a href="Building.html">Building</a></li>
       <li><a href="Release+procedure.html">Release procedure</a></li>
       <li><a href="https://semaphoreci.com/codehaus-cargo/cargo" class="external-link" rel="nofollow">Continous Integration</a><br><a href="https://semaphoreci.com/codehaus-cargo/cargo" class="external-link" rel="nofollow"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://semaphoreci.com/api/v1/projects/f1caf210-ca6e-44f7-b54c-16ad92065416/393658/shields_badge.svg" data-image-src="https://semaphoreci.com/api/v1/projects/f1caf210-ca6e-44f7-b54c-16ad92065416/393658/shields_badge.svg"></span></a></li>
      </ul> <h3 class="heading3">Feeds</h3> 
      <table border="0" cellspacing="4px"> 
       <tbody>
        <tr> 
         <td align="right"> <a href="https://codehaus-cargo.atlassian.net/wiki/collector/pages.action?key=CARGO"><img src="attachments/rss.gif" border="0"></a><br> </td> 
         <td align="left"> <a href="https://codehaus-cargo.atlassian.net/wiki/collector/pages.action?key=CARGO">Site</a> </td> 
        </tr> 
        <tr> 
         <td align="right"> <a href="https://codehaus-cargo.atlassian.net/wiki/pages/viewrecentblogposts.action?key=CARGO"><img src="attachments/rss.gif" border="0"></a> </td> 
         <td align="left"> <a href="https://codehaus-cargo.atlassian.net/wiki/pages/viewrecentblogposts.action?key=CARGO">News</a> </td> 
        </tr> 
       </tbody>
      </table> </td> 
     <td valign="top" style="padding:0px"> 
      <table width="100%" style="border-collapse:collapse"> 
       <tbody>
        <tr> 
         <td id="breadcrumbs" valign="top" align="right" style="padding:10px 17px;border-top:none"> 
          <form action="Search.html" method="GET"> 
           <input type="text" id="search_query" name="q" size="30"> &nbsp; 
           <input type="submit" value="Search"> 
          </form> </td> 
        </tr> 
        <tr> 
         <td id="rightColumn"> 
          <div class="confluence-information-macro confluence-information-macro-note" id="decommission-warning" style="display:none"> 
           <p class="title">Action required!</p> 
           <span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span> 
           <div class="confluence-information-macro-body"> 
            <p>As you might have heard, Codehaus is getting shut down. Obviously, it would be a pity to lose Cargo, so we took action to ensure its continuity: </p>
            <ul> 
             <li> The Cargo source code as well as the Web site have both been moved to a very popular repository called <a href="https://github.com/codehaus-cargo" target="_blank">Github</a>. 
              <ul> 
               <li> <u>IMPORTANT</u>: Please make sure you update all existing bookmarks on the Cargo Web site to our moved site, <a href="https://codehaus-cargo.github.io/">https://codehaus-cargo.github.io/</a> and its children. </li> 
               <li> Those of you who access the Cargo sources should update their SCM to point to either the new git or SVN repository, read more on the <a href="Source+code.html">source code page</a>. </li> 
              </ul> </li> 
             <li> The Cargo mailing lists are now on Google Groups. 
              <ul> 
               <li> <u>IMPORTANT</u>: Please make sure you subscribe to the new <a href="Mailing+Lists.html">Codehaus Cargo mailing lists</a>. </li> 
              </ul> </li> 
             <li> The Cargo issue tracker is on Atlassian. 
              <ul> 
               <li> <u>IMPORTANT</u>: In the future, please make sure you report your issues on the new <a href="https://codehaus-cargo.atlassian.net/browse/CARGO" target="_blank">Codehaus Cargo JIRA on Atlassian</a>. </li> 
              </ul> </li> 
            </ul> 
            <p></p> 
           </div> 
          </div> <script type="text/javascript">
                if ("Home" === "Maven2+Archetypes" || (document.referrer && document.referrer.indexOf("http://cargo.codehaus.org/") === 0)) {
                  document.getElementById("decommission-warning").style.display = "";
                }
              </script> <script type="text/javascript">
                // Google Ads code
                google_ad_client = "ca-pub-7996505557003356";
                google_ad_slot = "5363897989";
                google_ad_width = 728;
                google_ad_height = 90;
              </script> 
          <center style="padding-bottom: 1mm; margin-bottom: 2mm; border: 1px solid #eee"> 
           <script type="text/javascript" src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
                </script> 
          </center> <h1 id="Maven2Archetypes-Maven2Archetypes">Maven2 Archetypes</h1><p>Maven2 has a powerful feature called <a href="http://maven.apache.org/guides/introduction/introduction-to-archetypes.html" class="external-link" rel="nofollow">Archetype</a>.</p><p>As part of the Cargo project we have created some archetypes that you can use to get a working sample project that uses the Cargo Maven2 plugin.</p><h2 id="Maven2Archetypes-SingleWebappModuleArchetype">Single Webapp Module Archetype</h2><p>This is the most basic example, showing how to configure Cargo and Maven2 to run functional tests directly from a single webapp module. To run it, execute (one one line):</p>
          <div class="code panel pdl" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre> mvn archetype:generate -DarchetypeGroupId=org.codehaus.cargo
                        -DarchetypeArtifactId=cargo-archetype-webapp-single-module
                        -DarchetypeVersion=&lt;version&gt;
</pre> 
           </div>
          </div><p>where <strong>&lt;version&gt;</strong> is the version of the Cargo Archetype, as a result the CARGO version to use.</p><p>The Maven archetype plugin will then ask you what groupId, artifactId, version, and package you would like to use for generation. Once your Maven project is generated, simply run:</p>
          <div class="code panel pdl" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre> mvn clean verify
</pre> 
           </div>
          </div><p>That command will:</p>
          <ul>
           <li>Build the web application</li>
           <li>If needed, download Jetty</li>
           <li>Configure Jetty</li>
           <li>Start the Jetty container</li>
           <li>Deploy your web application to the Jetty container</li>
           <li>Run some tests on the deployed application
            <ul>
             <li>We've used classic JUnit tests, but you can use whatever you like, really</li>
            </ul></li>
           <li>Stop the Jetty container</li>
          </ul><p>That archetype also demonstrates another powerful feature of CARGO coupled with Maven. If you now run:</p>
          <div class="code panel pdl" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre> mvn clean verify -P tomcat6x
</pre> 
           </div>
          </div><p>the same steps will be done with Tomcat instead of Jetty; thanks to Maven's profiles.</p><p>The archetype actually ships with Maven profiles for the&nbsp;<a href="Jetty+7.x.html"><strong>jetty7x</strong></a> (default), <a href="Jetty+6.x.html"><strong>jetty6x</strong></a>, <a href="Tomcat+6.x.html"><strong>tomcat6x</strong></a>, <a href="JOnAS+5.x.html"><strong>jonas5x</strong></a>, <a href="JBoss+5.1.x.html"><strong>jboss51x</strong></a>, <a href="JBoss+7.1.x.html"><strong>jboss71x</strong></a>, <a href="Glassfish+3.x.html"><strong>glassfish3x</strong></a> and <strong><a href="Geronimo+3.x.html">geronimo3x</a></strong> containers. We tried to show with these archetypes as many examples as possible, so you will find that:</p>
          <ul>
           <li>Some of these profiles define a <a href="Standalone+Local+Configuration.html"><strong>standalone</strong></a>&nbsp; container:
            <ul>
             <li>The profiles <a href="Jetty+7.x.html"><strong>jetty7x</strong></a>,&nbsp;<a href="JOnAS+5.x.html"><strong>jonas5x</strong></a>, <a href="JBoss+7.1.x.html"><strong>jboss71x</strong></a>,&nbsp;<a href="Glassfish+3.x.html"><strong>glassfish3x</strong></a> and <strong><a href="Geronimo+3.x.html">geronimo3x</a></strong> download the server using the <a href="Installer#Installer-installer_with_maven2_dependencies.html">ArtifactInstaller</a>.</li>
             <li>The profiles <a href="JBoss+5.1.x.html"><strong>jboss51x</strong></a><a href="Glassfish+3.x.html">Glassfish 3.x</a> and&nbsp;<a href="Tomcat+6.x.html"><strong>tomcat6x</strong></a> download the server using the <a href="Installer.html">ZipUrlInstaller</a>.</li>
            </ul></li>
           <li>The profile&nbsp;<a href="Jetty+6.x.html"><strong>jetty6x</strong></a> define an <a href="Embedded+Container.html"><strong>embedded</strong></a> container.</li>
          </ul><p>You can of course add and use any other container from the <a href="Containers.html">Containers</a> list.</p><p><span class="confluence-anchor-link" id="Maven2Archetypes-separate"></span></p><h2 id="Maven2Archetypes-SeparateFunctionalTestModuleArchetype">Separate Functional Test Module Archetype</h2><p>Shows how to configure Cargo and Maven2 to run functional tests by creating a functional tests module next to the webapp module. To run it, execute (one one line):</p>
          <div class="code panel pdl" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre> mvn archetype:generate -DarchetypeGroupId=org.codehaus.cargo
                        -DarchetypeArtifactId=cargo-archetype-webapp-functional-tests-module
                        -DarchetypeVersion=&lt;version&gt;
</pre> 
           </div>
          </div><p>where <strong>&lt;version&gt;</strong> is the version of the Cargo Archetype, as a result the CARGO version to use.</p><p>The remaining instructions for this archetype remain the same as the <em>Single Webapp Module Archetype</em> archetype.</p><p><span class="confluence-anchor-link" id="Maven2Archetypes-datasource"></span></p><h2 id="Maven2Archetypes-DatasourceDefinitionArchetype">Datasource Definition Archetype</h2><p>Shows how to configure Cargo and Maven2 to for a more complex setup, in particular with datasource definitions. This includes:</p>
          <ul>
           <li>Definition of an Apache Derby datasource in the container's configuration</li>
           <li>Adding in the Apache Derby driver to the container</li>
          </ul><p>Of course, the same kind of setup works for any other datasource provider and driver.</p><p>To run it, execute (one one line):</p>
          <div class="code panel pdl" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre> mvn archetype:generate -DarchetypeGroupId=org.codehaus.cargo
                        -DarchetypeArtifactId=cargo-archetype-webapp-with-datasource
                        -DarchetypeVersion=&lt;version&gt;
</pre> 
           </div>
          </div><p>where <strong>&lt;version&gt;</strong> is the version of the Cargo Archetype, as a result the CARGO version to use.</p><p>The overall remaining instructions for this archetype remain the same as the <em>Single Webapp Module Archetype</em> archetype, with the following differences:</p>
          <ul>
           <li>Not all containers support datasources. For details configuring datasource, please read: <a href="DataSource+and+Resource+Support.html">DataSource and Resource Support</a>.</li>
           <li>The profiles that ship with this archetype are&nbsp;<a href="Jetty+7.x.html"><strong>jetty7x</strong></a> (default), <a href="Tomcat+6.x.html"><strong>tomcat6x</strong></a>, <a href="Glassfish+3.x.html"><strong>glassfish3x</strong></a>, <a href="JBoss+5.1.x.html"><strong>jboss51x</strong></a>,&nbsp;<a href="JBoss+7.1.x.html"><strong>jboss71x</strong></a>, <a href="JOnAS+5.x.html"><strong>jonas5x</strong></a> and <strong><a href="Geronimo+3.x.html">geronimo3x</a></strong>.</li>
          </ul><p>As in the other examples, what's interesting to see is that the datasource definition on CARGO remains the same even if you switch container; as CARGO handles all the container-specific datasource setup steps.</p><p><span class="confluence-anchor-link" id="Maven2Archetypes-remote"></span></p><h2 id="Maven2Archetypes-WebappCreationandRemoteDeploymentArchetype">Webapp Creation and Remote Deployment Archetype</h2><p>This example shows you how to use Cargo to deploy your webapp to a running container remotely and perform integration tests on it. That container can therefore be running on any machine. To run it, execute (one one line):</p>
          <div class="code panel pdl" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre> mvn archetype:generate -DarchetypeGroupId=org.codehaus.cargo
                        -DarchetypeArtifactId=cargo-archetype-remote-deployment
                        -DarchetypeVersion=&lt;version&gt;
</pre> 
           </div>
          </div><p>where <strong>&lt;version&gt;</strong> is the version of the Cargo Archetype, as a result the CARGO version to use.</p><p>Once your Maven project is generated, simply run:</p>
          <div class="code panel pdl" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre> mvn clean verify
</pre> 
           </div>
          </div><p>That command will:</p>
          <ul>
           <li>Build the web application</li>
           <li>Connect to the remote Tomcat manager</li>
           <li>Deploy your application</li>
           <li>Run integration tests to verify that the application is running file
            <ul>
             <li>We've used classic JUnit tests, but you can use whatever you like, really</li>
            </ul></li>
           <li>Undeploy your application</li>
          </ul><p>This archetype supports the following properties that can be changed by passing <code>-DpropertyName=propertyValue</code> arguments to the <code>mvn</code> command:</p>
          <ul>
           <li><strong>servlet.port</strong> changes the target servlet port, the archetype sets it to <code>8080</code></li>
           <li><strong>hostname</strong> changes the target servlet's hostname, the archetype sets it to <code>localhost</code></li>
           <li><strong>username</strong> sets the username, the archetype sets it to <code>admin</code></li>
           <li><strong>password</strong> sets the password, the archetype sets it to an empty password</li>
          </ul><p>This archetype ships with Maven profiles for the following containers:</p>
          <ul>
           <li><a href="Tomcat+6.x.html"><strong>tomcat6x</strong></a> (default), using the Tomcat manager</li>
           <li><a href="Jetty+6.x.html"><strong>jetty6x</strong></a> and <a href="Jetty+7.x.html"><strong>jetty7x</strong></a>. Before using the Jetty remote deployer, please read: <a href="Jetty+Remote+Deployer.html">Jetty Remote Deployer</a>.</li>
           <li><strong><a href="JOnAS+5.x.html"><strong>jonas5x</strong></a></strong></li>
           <li><a href="JBoss+5.1.x.html"><strong>jboss51x</strong></a> and <a href="JBoss+7.x.html"><strong>jboss7x</strong></a>, including adding in the special dependencies for the JBoss remote deployer. For more details, please read: <a href="JBoss+Remote+Deployer.html">JBoss Remote Deployer</a>.</li>
           <li><a href="Glassfish+3.x.html"><strong>glassfish3x</strong></a>, including adding in the GlassFish-specific dependencies for JSR88. For more details, please read: <a href="JSR88.html">JSR88</a>.</li>
          </ul><h2 id="Maven2Archetypes-daemon"><span class="confluence-anchor-link" id="Maven2Archetypes-daemon"></span></h2><h2 id="Maven2Archetypes-DaemonArchetype">Daemon Archetype</h2><p>Shows how to configure Cargo and Maven2 to use the <a href="Cargo+Daemon.html">Cargo Daemon</a>'s features in order to remotely start the container, deploy your deployable on it, do some tests, and shut the server down remotely. To run it, execute (one one line):</p>
          <div class="code panel pdl" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre> mvn archetype:generate -DarchetypeGroupId=org.codehaus.cargo
                        -DarchetypeArtifactId=cargo-archetype-daemon
                        -DarchetypeVersion=&lt;version&gt;
</pre> 
           </div>
          </div><p>where <strong>&lt;version&gt;</strong> is the version of the Cargo Archetype, as a result the CARGO version to use.</p><p>The Maven archetype plugin will then ask you what groupId, artifactId, version, and package you would like to use for generation. Once your Maven project is generated, you need to first start the <a href="Cargo+Daemon.html">Cargo Daemon</a>. Then, simply run:</p>
          <div class="code panel pdl" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre> mvn clean verify -Dhostname=&lt;daemon.hostname&gt; -Ddaemon.port=&lt;daemon.port&gt;
</pre> 
           </div>
          </div><p>where <strong>&lt;daemon.hostname&gt;</strong> is the hostname / IP address of the machine running the <a href="Cargo+Daemon.html">Cargo Daemon</a> and <strong>&lt;daemon.port&gt;</strong> the port for it.That command will:</p>
          <ul>
           <li>Build the web application</li>
           <li>If needed, download Jetty</li>
           <li>Send the downloaded Jetty package to the remote <a href="Cargo+Daemon.html">Cargo Daemon</a> instance</li>
           <li>Configure Jetty on the remote machine</li>
           <li>Start the Jetty container on the remote machine</li>
           <li>Deploy your web application to the Jetty container on the remote machine</li>
           <li>Run some tests on the deployed application<br>
            <ul>
             <li>We've used classic JUnit tests, but you can use whatever you like, really</li>
            </ul></li>
           <li>Stop the Jetty container on the remote machine</li>
          </ul><p>The archetype actually ships with Maven profiles for the&nbsp;<a href="Jetty+7.x.html"><strong>jetty7x</strong></a> (default),&nbsp;<a href="Tomcat+6.x.html"><strong>tomcat6x</strong></a>, <a href="JOnAS+5.x.html"><strong>jonas5x</strong></a>, <a href="JBoss+5.1.x.html"><strong>jboss51x</strong></a>, <a href="JBoss+7.1.x.html"><strong>jboss71x</strong></a>, <a href="Glassfish+3.x.html"><strong>glassfish3x</strong></a> and <strong><a href="Geronimo+3.x.html">geronimo3x</a></strong> containers.</p><p>You can of course add and use any other container from the <a href="Containers.html">Containers</a> list.</p> </td> 
        </tr> 
       </tbody>
      </table> </td> 
    </tr> 
    <tr> 
     <td colspan="2" id="footer"> 
      <table width="100%"> 
       <tbody>
        <tr> 
         <td align="left" valign="top"> Copyright 2004-2015. All rights reserved unless otherwise noted.<br> </td> 
         <td align="right" valign="top"> Powered by <a href="https://codehaus-cargo.atlassian.net/wiki/display/CARGO/Maven2+Archetypes">Atlassian Confluence</a>. </td> 
        </tr> 
       </tbody>   
      </table>   </td>
    </tr>
   </tbody>
  </table>
 </body>
</html>