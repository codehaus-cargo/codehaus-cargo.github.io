<!--?xml version="1.0" encoding="utf-8"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
 <head profile="http://www.w3.org/2000/08/w3c-synd/#"> 
  <meta charset="UTF-8"> 
  <meta http-equiv="x-ua-compatible" content="IE=Edge"> 
  <link rel="stylesheet" href="attachments/site.css" type="text/css"> 
  <link rel="shortcut icon" href="attachments/favicon.ico"> 
  <link rel="icon" type="image/x-icon" href="attachments/favicon.ico"> 
  <title>Codehaus Cargo - Debugging</title> 
  <script type="text/javascript">
    if (location.href.indexOf("http://") === 0) {
      location.replace("https://" + location.href.substring(7));
    }
  </script> 
  <!-- Global site tag (gtag.js) - Google Analytics --> 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-31476258-1"></script> 
  <script>
  	window.dataLayer = window.dataLayer || [];
  	function gtag(){dataLayer.push(arguments);}
  	gtag('js', new Date());

  	gtag('config', 'UA-31476258-1');
  </script> 
  <!-- Google Ads --> 
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> 
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-7996505557003356",
      enable_page_level_ads: true
    });
  </script> 
 </head> 
 <body> 
  <table width="100%" class="layout" style="border-collapse:collapse"> 
   <tbody>
    <tr height="83"> 
     <td colspan="2" style="padding:0px"> 
      <div style="position:fixed;width:100%;top:0;border-bottom:1px solid #39434F;z-index:2"> 
       <table width="100%" class="banner" style="padding:0px;background-image:url('attachments/cargo-banner-center.png')"> 
        <tbody>
         <tr> 
          <td align="left" valign="middle" style="padding:0px"> <img src="attachments/cargo-banner-left.png"> </td> 
          <td align="right" valign="middle" style="padding:0px"> <img src="attachments/cargo-banner-right.png"> </td> 
         </tr> 
        </tbody>
       </table> 
      </div> </td> 
    </tr> 
    <tr> 
     <td class="leftColumn" valign="top" style="padding-top:0px"> <h3 id="Navigation-QuickLinks">Quick Links</h3>
      <ul class="alternate">
       <li><a href="Home.html">Home</a></li>
       <li><a href="Downloads.html">Downloads</a></li>
       <li><a href="Quick+start.html">Quick start</a></li>
       <li><a href="Contributing.html">How to contribute?</a>
        <ul class="alternate">
         <li><a href="Adding+a+container.html">Adding a container</a></li>
        </ul></li>
      </ul><h3 class="confluence-link" id="Navigation-Documentation">Documentation</h3>
      <ul class="alternate">
       <li>Overview<br>
        <ul class="alternate">
         <li><a href="Architecture.html">Architecture</a></li>
         <li><a href="Features.html">Features</a></li>
        </ul></li>
       <li><a href="Installation.html">Installation</a></li>
       <li>Usage<br>
        <ul class="alternate">
         <li><a href="Javadocs.html">Java API</a></li>
         <li><a href="Functional+testing.html">Functional testing with JUnit</a></li>
         <li><a href="Ant+support.html">Ant tasks</a></li>
         <li><a href="Maven2+plugin.html">Maven 2 / Maven 3 plugin</a></li>
         <li><a href="Cargo+Daemon.html">Cargo Daemon</a></li>
        </ul></li>
       <li><a href="Articles.html">Articles</a></li>
       <li><a href="License.html">License</a></li>
       <li><a href="Credits.html">Credits</a></li>
      </ul><h3 id="Navigation-Containers">Containers</h3>
      <ul class="alternate">
       <li>Geronimo
        <ul class="alternate">
         <li><a href="Geronimo+1.x.html">Geronimo 1.x</a></li>
         <li><a href="Geronimo+2.x.html">Geronimo 2.x</a></li>
         <li><a href="Geronimo+3.x.html">Geronimo 3.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>Glassfish
        <ul class="alternate">
         <li><a href="GlassFish+2.x.html">GlassFish 2.x</a></li>
         <li><a href="GlassFish+3.x.html">GlassFish 3.x</a></li>
         <li><a href="GlassFish+4.x.html">GlassFish 4.x</a></li>
         <li><a href="GlassFish+5.x.html">GlassFish 5.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>JBoss
        <ul class="alternate">
         <li><a href="JBoss+3.x.html">JBoss 3.x</a></li>
         <li><a href="JBoss+4.x.html">JBoss 4.x</a></li>
         <li><a href="JBoss+4.2.x.html">JBoss 4.2.x</a></li>
         <li><a href="JBoss+5.x.html">JBoss 5.x</a></li>
         <li><a href="JBoss+5.1.x.html">JBoss 5.1.x</a></li>
         <li><a href="JBoss+6.x.html">JBoss 6.x</a></li>
         <li><a href="JBoss+6.1.x.html">JBoss 6.1.x</a></li>
         <li><a href="JBoss+7.x.html">JBoss 7.x</a></li>
         <li><a href="JBoss+7.1.x.html">JBoss 7.1.x</a></li>
         <li><a href="JBoss+7.2.x.html">JBoss 7.2.x</a></li>
         <li><a href="JBoss+7.3.x.html">JBoss 7.3.x</a></li>
         <li><a href="JBoss+7.4.x.html">JBoss 7.4.x</a></li>
         <li><a href="JBoss+7.5.x.html">JBoss 7.5.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>Jetty
        <ul class="alternate">
         <li><a href="Jetty+4.x.html">Jetty 4.x</a></li>
         <li><a href="Jetty+5.x.html">Jetty 5.x</a></li>
         <li><a href="Jetty+6.x.html">Jetty 6.x</a></li>
         <li><a href="Jetty+7.x.html">Jetty 7.x</a></li>
         <li><a href="Jetty+8.x.html">Jetty 8.x</a></li>
         <li><a href="Jetty+9.x.html">Jetty 9.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>Jo!
        <ul class="alternate">
         <li><a href="jo+1.x.html">jo 1.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>JOnAS
        <ul class="alternate">
         <li><a href="JOnAS+4.x.html">JOnAS 4.x</a></li>
         <li><a href="JOnAS+5.x.html">JOnAS 5.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>JRun
        <ul class="alternate">
         <li><a href="JRun+4.x.html">JRun 4.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>Orion/OC4J
        <ul class="alternate">
         <li><a href="Oc4J+9.x.html">Oc4J 9.x</a></li>
         <li><a href="Oc4j+10.x.html">Oc4j 10.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>Payara
        <ul>
         <li><a href="Payara.html">Payara</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>Resin
        <ul class="alternate">
         <li><a href="Resin+2.x.html">Resin 2.x</a></li>
         <li><a href="Resin+3.x.html">Resin 3.x</a></li>
         <li><a href="Resin+3.1.x.html">Resin 3.1.x</a></li>
         <li><a href="Resin+4.x.html">Resin 4.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>Tomcat
        <ul class="alternate">
         <li><a href="Tomcat+4.x.html">Tomcat 4.x</a></li>
         <li><a href="Tomcat+5.x.html">Tomcat 5.x</a></li>
         <li><a href="Tomcat+6.x.html">Tomcat 6.x</a></li>
         <li><a href="Tomcat+7.x.html">Tomcat 7.x</a></li>
         <li><a href="Tomcat+8.x.html">Tomcat 8.x</a></li>
         <li><a href="Tomcat+9.x.html">Tomcat 9.x</a></li>
         <li><a href="Tomcat+10.x.html">Tomcat 10.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>TomEE
        <ul class="alternate">
         <li><a href="TomEE+1.x.html">TomEE 1.x</a></li>
         <li><a href="TomEE+7.x.html">TomEE 7.x</a></li>
         <li><a href="TomEE+8.x.html">TomEE 8.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>WebLogic<br>
        <ul class="alternate">
         <li><a href="WebLogic+8.x.html">WebLogic 8.x</a></li>
         <li><a href="WebLogic+9.x.html">WebLogic 9.x</a></li>
         <li><a href="WebLogic+10.x.html">WebLogic 10.x</a></li>
         <li><a href="WebLogic+10.3.x.html">WebLogic 10.3.x</a></li>
         <li><a href="WebLogic+12.x.html">WebLogic 12.x</a></li>
         <li><a href="WebLogic+12.1.x.html">WebLogic 12.1.x</a></li>
         <li><a href="WebLogic+12.2.x.html">WebLogic 12.2.x</a></li>
         <li><a href="WebLogic+14.x.html">WebLogic 14.x</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>WebSphere<br>
        <ul class="alternate">
         <li><a href="WebSphere+8.5.x.html">WebSphere 8.5.x</a></li>
         <li><a href="WebSphere+9.x.html">WebSphere 9.x</a></li>
         <li><a href="WebSphere+Liberty.html">WebSphere Liberty</a></li>
        </ul></li>
      </ul>
      <ul class="alternate">
       <li>WildFly<br>
        <ul class="alternate">
         <li><a href="WildFly+8.x.html">WildFly 8.x</a></li>
         <li><a href="WildFly+9.x.html">WildFly 9.x</a></li>
         <li><a href="WildFly+10.x.html">WildFly 10.x</a></li>
         <li><a href="WildFly+11.x.html">WildFly 11.x</a></li>
         <li><a href="WildFly+12.x.html">WildFly 12.x</a></li>
         <li><a href="WildFly+13.x.html">WildFly 13.x</a></li>
         <li><a href="WildFly+14.x.html">WildFly 14.x</a></li>
         <li><a href="WildFly+15.x.html">WildFly 15.x</a></li>
         <li><a href="WildFly+16.x.html">WildFly 16.x</a></li>
         <li><a href="WildFly+17.x.html">WildFly 17.x</a></li>
         <li><a href="WildFly+18.x.html">WildFly 18.x</a></li>
         <li><a href="WildFly+19.x.html">WildFly 19.x</a></li>
         <li><a href="WildFly+Swarm.html">WildFly Swarm</a></li>
        </ul></li>
      </ul><h3 id="Navigation-Extensions">Extensions</h3>
      <ul class="alternate">
       <li><a href="Ant+support.html">Ant</a></li>
       <li><a href="Cargo+Daemon.html">Cargo Daemon</a></li>
       <li><a href="Maven2+plugin.html">Maven 2 / Maven 3</a></li>
      </ul><p>Independent extensions:</p>
      <ul class="alternate">
       <li><a href="https://github.com/bmuschko/gradle-cargo-plugin" class="external-link" rel="nofollow">Gradle</a></li>
       <li><a href="https://github.com/mulesoft/cargo-mule-container" class="external-link" rel="nofollow">Mule container</a></li>
      </ul><h3 id="Navigation-ProjectInfo">Project Info</h3>
      <ul class="alternate">
       <li><a href="Roadmap.html">Roadmap</a></li>
       <li><a href="News.html">News</a></li>
       <li><a href="https://codehaus-cargo.atlassian.net/projects/CARGO/issues" class="external-link" rel="nofollow">Issues</a></li>
       <li><a href="https://codehaus-cargo.atlassian.net/projects/CARGO?selectedItem=com.atlassian.jira.jira-projects-plugin:release-page" class="external-link" rel="nofollow">Change log</a></li>
       <li><a href="Source+code.html">Source code</a></li>
       <li><a href="Mailing+Lists.html">Mailing lists</a></li>
       <li><a href="License.html">License</a></li>
       <li><a href="Credits.html">Credits</a></li>
      </ul><h3 id="Navigation-Development">Development</h3>
      <ul class="alternate">
       <li><a href="Project+Structure.html">Project structure</a></li>
       <li><a href="Importing+sources.html">Importing sources</a></li>
       <li><a href="Building.html">Building</a></li>
       <li><a href="Cargo+Code+Style.html">Code style</a></li>
       <li><a href="Contributing.html">Contributing</a></li>
       <li><a href="Release+procedure.html">Release procedure</a></li>
       <li><a href="https://semaphoreci.com/codehaus-cargo/cargo" class="external-link" rel="nofollow">Continous integration</a><br><a href="https://semaphoreci.com/codehaus-cargo/cargo" class="external-link" rel="nofollow"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-external-resource" src="https://semaphoreci.com/api/v1/projects/f1caf210-ca6e-44f7-b54c-16ad92065416/393658/shields_badge.svg"></span></a></li>
      </ul> <h3 class="heading3">RSS Feeds</h3> 
      <table border="0" cellspacing="4px"> 
       <tbody>
        <tr> 
         <td align="right"> <a href="https://codehaus-cargo.atlassian.net/wiki/spaces/createrssfeed.action?types=page,blogpost&amp;spaces=CARGO&amp;maxResults=50&amp;timeSpan=300&amp;title=Codehaus+Cargo+-+Documentation+and+Blog+posts"><img src="attachments/rss.gif" border="0"></a><br> </td> 
         <td align="left"> <a href="https://codehaus-cargo.atlassian.net/wiki/spaces/createrssfeed.action?types=page,blogpost&amp;spaces=CARGO&amp;maxResults=50&amp;timeSpan=300&amp;title=Codehaus+Cargo+-+Documentation+and+Blog+posts">Pages and Blog posts</a> </td> 
        </tr> 
        <tr> 
         <td align="right"> <a href="https://groups.google.com/forum/feed/codehaus-cargo/msgs/rss.xml"><img src="attachments/rss.gif" border="0"></a> </td> 
         <td align="left"> <a href="https://groups.google.com/forum/feed/codehaus-cargo/msgs/rss.xml">Mailing list</a> </td> 
        </tr> 
       </tbody>
      </table> </td> 
     <td valign="top" style="padding:0px"> 
      <table width="100%" style="border-collapse:collapse"> 
       <tbody>
        <tr> 
         <td class="breadcrumbs" style="padding:10px 17px"> 
          <table width="100%"> 
           <tbody>
            <tr valign="top"> 
             <td align="left"> <b><a href="Home.html">Codehaus Cargo</a> &gt; <a href="Features.html">Features</a> &gt; Debugging</b> </td> 
             <td align="right" width="300"> 
              <form method="GET" action="Search.html"> 
               <input type="text" size="30" name="q" id="search_query"> &nbsp; 
               <input type="submit" value="Search"> 
              </form> </td> 
            </tr> 
           </tbody>
          </table> </td> 
        </tr> 
        <tr> 
         <td class="rightColumn"> <h3 id="Debugging-Definition">Definition</h3><p><br>Explain how to perform debugging when something doesn't work in Cargo<br></p><p>Sometimes, it can happen that the container does not start or stop as expected or you might have reasons to believe that CARGO is "acting weird". Here is a short list of things you can do to try debugging the problem.</p><h3 id="Debugging-Debuggingthecontainer">Debugging the container</h3><p>Most Java Virtual Machine implementations support remote debugging. Once started in debug mode, you can then remotely connect to your container using any IDE and debug your container and/or application.</p><p>In order to do so, add the following arguments to the <a href="https://codehaus-cargo.github.io/apidocs/org/codehaus/cargo/container/property/GeneralPropertySet.html#START_JVMARGS" class="external-link" rel="nofollow">JVM start arguments configuration property</a>:</p>
          <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre class="syntaxhighlighter-pre">-Xdebug
-Xrunjdwp:transport=dt_socket,server=y,suspend=&lt;suspend&gt;,address=&lt;port&gt;
-Xnoagent
-Djava.compiler=NONE
</pre> 
           </div>
          </div><p>where:</p>
          <ul>
           <li><strong>suspend</strong> is whether the launch of the container should first wait for a remote debugger to connect. If <code>y</code>, the container will wait for you to connect with your remote debugger before starting; if <code>n</code> the container will start immediately and at the same time listen on the remote debugging port.</li>
           <li><strong>port</strong> is the port number to use for remote debugging.</li>
          </ul><p>Here is an example for starting a JOnAS 5.x container in Remote Debug on port 8000 without suspend mode using the Maven2 plugin:</p>
          <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre class="syntaxhighlighter-pre">&lt;plugin&gt;
  &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;
  &lt;artifactId&gt;cargo-maven2-plugin&lt;/artifactId&gt;
  &lt;version&gt;${cargo.version}&lt;/version&gt;
  &lt;configuration&gt;
    &lt;container&gt;
      &lt;containerId&gt;jonas5x&lt;/containerId&gt;
      &lt;type&gt;installed&lt;/type&gt;
      &lt;home&gt;${jonas.root}&lt;/home&gt;
    &lt;/container&gt;
    &lt;configuration&gt;
      &lt;type&gt;existing&lt;/type&gt;
      &lt;home&gt;${jonas.base}&lt;/home&gt;
      &lt;properties&gt;
        &lt;cargo.servlet.port&gt;${http.port}&lt;/cargo.servlet.port&gt;
        &lt;cargo.start.jvmargs&gt;
          -Xdebug
          -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000
          -Xnoagent
          -Djava.compiler=NONE
        &lt;/cargo.start.jvmargs&gt;
      &lt;/properties&gt;
    &lt;/configuration&gt;
  &lt;/configuration&gt;
&lt;/plugin&gt;
</pre> 
           </div>
          </div><p>Once the server is started, follow these steps to remotely debug your server and/or application:</p>
          <ol>
           <li>Click <strong>Debug</strong> - <strong>Attach Debugger...</strong></li>
           <li>In the window that appears, type in the remote host name and the port number then click OK</li>
          </ol><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/NetBeans%20remote%20debugger.png"></span></p><p>Steps for achieving the same in Eclipse IDE are similar.</p>
          <div class="confluence-information-macro confluence-information-macro-note conf-macro output-block">
           <p class="title">About the cargo.start.jvmargs property</p>
           <span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"> </span>
           <div class="confluence-information-macro-body">
            <p>The <a href="https://codehaus-cargo.github.io/apidocs/org/codehaus/cargo/container/property/GeneralPropertySet.html#START_JVMARGS" class="external-link" rel="nofollow">JVM start arguments configuration property</a> only exists since <a href="https://codehaus-cargo.atlassian.net/browse/CARGO-1353" class="external-link" rel="nofollow">Codehaus CARGO 1.4.18</a>.</p>
            <p>With older versions, you'll have to use <a href="Configuration+properties.html" rel="nofollow"><code>cargo.jvmargs</code></a> and make sure you set the execution property only on the&nbsp;<code>start</code> goal - Else you will get error messages such as:</p>
            <pre>[INFO] [talledLocalContainer] FATAL ERROR in native method: JDWP No transports initialized, jvmtiError=AGENT_ERROR_TRANSPORT_INIT(197)</pre>
            <pre>[WARNING] [talledLocalContainer] ERROR: transport error 202: bind failed: Address already in use</pre>
            <pre>[WARNING] [talledLocalContainer] ERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)</pre>
            <pre>[WARNING] [talledLocalContainer] JDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports initialized [../../../src/share/back/debugInit.c:741]</pre>
           </div>
          </div><h3 id="Debugging-Redirectingcontaineroutputtoafile">Redirecting container output to a file</h3><script type="text/javascript">
  // Google Ads code
  google_ad_client = "ca-pub-7996505557003356";
  google_ad_slot = "5363897989";
  google_ad_width = 728;
  google_ad_height = 90;
</script>
          <center style="padding-bottom: 1mm; margin-bottom: 2mm; border: 1px solid #eee"> 
           <script type="text/javascript" src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
  </script> 
          </center><h4 id="Debugging-ExampleusingtheJavaAPI">Example using the Java API</h4><p>The <code>Container.setOutput(File)</code> API allows you to redirect the container console (<code>stdout</code>) to a file. This is the first file you should check in case of problem.</p><p>Cargo is able to configure containers to generate various levels logs. There are 3 levels defined in <a href="https://codehaus-cargo.github.io/apidocs/org/codehaus/cargo/container/property/LoggingLevel.html" class="external-link" rel="nofollow"><code>o.c.c.container.property.LoggingLevel</code></a>: <code>LoggingLevel.LOW</code>, <code>LoggingLevel.MEDIUM</code> and <code>LoggingLevel.HIGH</code> (<code>LoggingLevel.MEDIUM</code> is the default value). They represent the quantity of information you wish to have in the generated log file. You can tune container logging by using the following API:</p>
          <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre class="syntaxhighlighter-pre">configuration.setProperty(GeneralPropertySet.LOGGING, LoggingLevel.HIGH.getLevel());
</pre> 
           </div>
          </div><p>The generated log files will then be found in the working directory you have specified on the container (through the <code>container.setWorkingDir()</code> call).</p><p>Starting Tomcat 4.x specifying an output console log file:</p>
          <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre class="syntaxhighlighter-pre">LocalContainer container = new Tomcat4xLocalContainer(
    new CatalinaStandaloneLocalConfiguration("target/tomcat4x"));
container.setHome("c:/apps/jakarta-tomcat-4.1.30");

container.setOutput("target/output.log");

container.start();
</pre> 
           </div>
          </div><p>Use the <code>container.setAppend(true|false)</code> method to decide whether the log file is recreated or whether it is appended to, keeping the previous execution logs (by default, the file is recreated at every container start or stop).</p><h4 id="Debugging-ExampleusingtheAntAPI">Example using the Ant API</h4><p>Starting Tomcat 4.x specifying an output console log file with the highest possible level of logs:</p>
          <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre class="syntaxhighlighter-pre">&lt;cargo containerId="tomcat4x" home="c:/apps/jakarta-tomcat-4.1.30" 
    action="start"
    output="target/output.log"
    append="false"&gt;
  &lt;configuration home="target/tomcat-home"&gt;
    &lt;property name="cargo.logging" value="high"/&gt;
  &lt;/configuration&gt;
&lt;/cargo&gt;</pre> 
           </div>
          </div><p>Use the <code>append="true|false"</code> attribute for controlling the log file creation behavior.</p><script type="text/javascript">
  // Google Ads code
  google_ad_client = "ca-pub-7996505557003356";
  google_ad_slot = "5363897989";
  google_ad_width = 728;
  google_ad_height = 90;
</script>
          <center style="padding-bottom: 1mm; margin-bottom: 2mm; border: 1px solid #eee"> 
           <script type="text/javascript" src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
  </script> 
          </center><h4 id="Debugging-ExampleusingtheMaven2/Maven3plugin">Example using the Maven2/Maven3 plugin</h4><p>Starting Tomcat 4.x specifying an output console log file with the highest possible level of logs:</p>
          <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre class="syntaxhighlighter-pre">&lt;container&gt;
  &lt;containerId&gt;tomcat4x&lt;/containerId&gt;
  &lt;home&gt;c:/apps/jakarta-tomcat-4.1.30&lt;/home&gt;
  &lt;output&gt;target/output.log&lt;/output&gt;
  &lt;append&gt;false&lt;/append&gt;
&lt;/container&gt;
&lt;configuration&gt;
  &lt;properties&gt;
    &lt;cargo.logging&gt;high&lt;/cargo.logging&gt;
  &lt;/properties&gt;
&lt;/configuration&gt;&nbsp;</pre> 
           </div>
          </div><p>Use the <code>append="true|false"</code> attribute for controlling the log file creation behavior.</p><h3 id="Debugging-DebuggingCARGOitself">Debugging CARGO itself</h3><p>To enable the Java debugger on ANT, export the&nbsp;<code>ANT_OPTS</code> system property using the parameters specified above. For example:</p>
          <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre class="syntaxhighlighter-pre">export ANT_OPTS="-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000"</pre> 
           </div>
          </div><p>On Maven2/Maven3, enabling Java debugger is done using the&nbsp;<code>mvnDebug</code> executable instead of&nbsp;<code>mvn</code>.</p>
          <div class="confluence-information-macro confluence-information-macro-information conf-macro output-block">
           <p class="title">mvnDebug command on MacOS X</p>
           <span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"> </span>
           <div class="confluence-information-macro-body">
            <p>&nbsp;Note that on MacOS X,&nbsp;<code>mvnDebug</code> is not on the default path. To run it, execute the command:&nbsp;<code>/usr/share/maven/bin/mvnDebug</code></p>
           </div>
          </div><script type="text/javascript">
  // Google Ads code
  google_ad_client = "ca-pub-7996505557003356";
  google_ad_slot = "5363897989";
  google_ad_width = 728;
  google_ad_height = 90;
</script>
          <center style="padding-bottom: 1mm; margin-bottom: 2mm; border: 1px solid #eee"> 
           <script type="text/javascript" src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
  </script> 
          </center><h3 id="Debugging-RedirectingCARGOlogstoafile">Redirecting CARGO logs to a file</h3><h4 id="Debugging-ExampleusingtheJavaAPI.1">Example using the Java API</h4><p>Some Cargo classes support generation of logs. This is implemented through the notion of <a href="https://codehaus-cargo.github.io/apidocs/org/codehaus/cargo/util/log/Logger.html" class="external-link" rel="nofollow"><code>Logger</code></a> and levels are managed using <a href="https://codehaus-cargo.github.io/apidocs/org/codehaus/cargo/util/log/LogLevel.html" class="external-link" rel="nofollow"><code>LogLevel</code></a>. There are 3 levels defined in <a href="https://codehaus-cargo.github.io/apidocs/org/codehaus/cargo/util/log/LogLevel.html" class="external-link" rel="nofollow"><code>o.c.c.util.log.LogLevel</code></a>: <code>LogLevel.DEBUG</code>, <code>LogLevel.INFO</code> and <code>LogLevel.WARN</code> (<code>LogLevel.INFO</code> is the default value).</p><p>For example to turn on logging monitoring on a <code>Container</code> class, you can use:</p>
          <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre class="syntaxhighlighter-pre">Logger fileLogger = new FileLogger(new File("c:/tmp/cargo.log"), true);
fileLogger.setLevel(LogLevel.DEBUG);
container.setLogger(fileLogger);
</pre> 
           </div>
          </div><p>There are several Loggers that are readily available in the Cargo distribution:</p>
          <ul>
           <li><a href="https://codehaus-cargo.github.io/apidocs/org/codehaus/cargo/util/log/FileLogger.html" class="external-link" rel="nofollow">FileLogger</a>: logs messages to a file</li>
           <li><a href="https://codehaus-cargo.github.io/apidocs/org/codehaus/cargo/util/log/SimpleLogger.html" class="external-link" rel="nofollow">SimpleLogger</a>: logs messages to the console (stdout)</li>
           <li><a href="https://codehaus-cargo.github.io/apidocs/org/codehaus/cargo/util/log/AntLogger.html" class="external-link" rel="nofollow">AntLogger</a>: logs messages using Ant's logging mechanism</li>
          </ul><script type="text/javascript">
  // Google Ads code
  google_ad_client = "ca-pub-7996505557003356";
  google_ad_slot = "5363897989";
  google_ad_width = 728;
  google_ad_height = 90;
</script>
          <center style="padding-bottom: 1mm; margin-bottom: 2mm; border: 1px solid #eee"> 
           <script type="text/javascript" src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
  </script> 
          </center><h4 id="Debugging-ExampleusingtheAntAPI.1">Example using the Ant API</h4><p>When using the Ant tasks, CARGO will by default use the <a href="https://codehaus-cargo.github.io/apidocs/org/codehaus/cargo/util/log/AntLogger.html" class="external-link" rel="nofollow">AntLogger</a>. You can specify the log level using the&nbsp;<code>logLevel</code> attribute, and the log file by using the <code>log</code> attribute. For example:</p>
          <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre class="syntaxhighlighter-pre">&lt;cargo containerId="tomcat4x" home="c:/apps/jakarta-tomcat-4.1.30" 
    action="start"
    logLevel="debug"
    log="target/cargo.log"/&gt;
</pre> 
           </div>
          </div><h4 id="Debugging-ExampleusingtheMaven2/Maven3plugin.1">Example using the Maven2/Maven3 plugin</h4><p>When using the Maven2/Maven3 plugin, CARGO will by default use the <a href="https://codehaus-cargo.github.io/apidocs/org/codehaus/cargo/maven2/log/MavenLogger.html" class="external-link" rel="nofollow">MavenLogger</a>.</p><p>When you use&nbsp;<code>mvn</code> with the&nbsp;<code>-e</code> option, both Maven itself and the CARGO plugin will log everything in debug mode.</p><p>If you want to use the plugin in debug mode without having Maven itself in debug mode, you can specify the log level using the&nbsp;<code>logLevel</code> attribute, and the log file by using the <code>log</code> attribute. For example:</p>
          <div class="code panel pdl conf-macro output-block" style="border-width: 1px;">
           <div class="codeContent panelContent pdl"> 
            <pre class="syntaxhighlighter-pre">&lt;container&gt;
  &lt;containerId&gt;tomcat4x&lt;/containerId&gt;
  &lt;home&gt;c:/apps/jakarta-tomcat-4.1.30&lt;/home&gt;
  &lt;log&gt;target/cargo.log&lt;/log&gt;
  &lt;logLevel&gt;debug&lt;/logLevel&gt;
&lt;/container&gt;</pre> 
           </div>
          </div> </td> 
        </tr> 
       </tbody>
      </table> </td> 
    </tr> 
    <tr height="23"> 
     <td colspan="2" style="padding:0px"> 
      <div style="position:fixed;width:100%;height:23px;bottom:0;border-top:1px solid #39434F;z-index:2;background-color:#FFFFFF"> 
       <table width="100%"> 
        <tbody>
         <tr valign="top"> 
          <td align="left"> Copyright 2004-2020. All rights reserved unless otherwise noted.<br> </td> 
          <td align="right"> <a href="Cookies.html">Click here to read our privacy and cookie policy</a> </td> 
         </tr> 
        </tbody>
       </table> 
      </div> </td> 
    </tr> 
   </tbody>
  </table>   
 </body>
</html>